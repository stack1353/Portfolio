/*! For license information please see 666.bdbe45d5.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkgiri_portfolio=self.webpackChunkgiri_portfolio||[]).push([[666],{5746:(e,t,n)=>{n.d(t,{A:()=>s});const s=(0,n(1639).A)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},6666:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var s=n(5043),o=n(293);function r(){const e=(0,s.useRef)(!1);return(0,o.E)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var i=n(7065);var a=n(9674),c=n(4930);class l extends s.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:t,isPresent:n}=e;const o=(0,s.useId)(),r=(0,s.useRef)(null),i=(0,s.useRef)({width:0,height:0,top:0,left:0});return(0,s.useInsertionEffect)(()=>{const{width:e,height:t,top:s,left:a}=i.current;if(n||!r.current||!e||!t)return;r.current.dataset.motionPopId=o;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule('\n          [data-motion-pop-id="'.concat(o,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(s,"px !important;\n            left: ").concat(a,"px !important;\n          }\n        ")),()=>{document.head.removeChild(c)}},[n]),s.createElement(l,{isPresent:n,childRef:r,sizeRef:i},s.cloneElement(t,{ref:r}))}const u=e=>{let{children:t,initial:n,isPresent:o,onExitComplete:r,custom:i,presenceAffectsLayout:l,mode:u}=e;const p=(0,c.M)(f),h=(0,s.useId)(),m=(0,s.useMemo)(()=>({id:h,initial:n,isPresent:o,custom:i,onExitComplete:e=>{p.set(e,!0);for(const t of p.values())if(!t)return;r&&r()},register:e=>(p.set(e,!1),()=>p.delete(e))}),l?void 0:[o]);return(0,s.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[o]),s.useEffect(()=>{!o&&!p.size&&r&&r()},[o]),"popLayout"===u&&(t=s.createElement(d,{isPresent:o},t)),s.createElement(a.t.Provider,{value:m},t)};function f(){return new Map}var p=n(2190);var h=n(8129);const m=e=>e.key||"";const x=e=>{let{children:t,custom:n,initial:a=!0,onExitComplete:c,exitBeforeEnter:l,presenceAffectsLayout:d=!0,mode:f="sync"}=e;(0,h.V)(!l,"Replace exitBeforeEnter with mode='wait'");const x=(0,s.useContext)(p.L).forceRender||function(){const e=r(),[t,n]=(0,s.useState)(0),o=(0,s.useCallback)(()=>{e.current&&n(t+1)},[t]);return[(0,s.useCallback)(()=>i.Gt.postRender(o),[o]),t]}()[0],g=r(),y=function(e){const t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}(t);let w=y;const b=(0,s.useRef)(new Map).current,v=(0,s.useRef)(w),E=(0,s.useRef)(new Map).current,k=(0,s.useRef)(!0);var j;if((0,o.E)(()=>{k.current=!1,function(e,t){e.forEach(e=>{const n=m(e);t.set(n,e)})}(y,E),v.current=w}),j=()=>{k.current=!0,E.clear(),b.clear()},(0,s.useEffect)(()=>()=>j(),[]),k.current)return s.createElement(s.Fragment,null,w.map(e=>s.createElement(u,{key:m(e),isPresent:!0,initial:!!a&&void 0,presenceAffectsLayout:d,mode:f},e)));w=[...w];const C=v.current.map(m),R=y.map(m),A=C.length;for(let s=0;s<A;s++){const e=C[s];-1!==R.indexOf(e)||b.has(e)||b.set(e,void 0)}return"wait"===f&&b.size&&(w=[]),b.forEach((e,t)=>{if(-1!==R.indexOf(t))return;const o=E.get(t);if(!o)return;const r=C.indexOf(t);let i=e;if(!i){const e=()=>{b.delete(t);const e=Array.from(E.keys()).filter(e=>!R.includes(e));if(e.forEach(e=>E.delete(e)),v.current=y.filter(n=>{const s=m(n);return s===t||e.includes(s)}),!b.size){if(!1===g.current)return;x(),c&&c()}};i=s.createElement(u,{key:m(o),isPresent:!1,onExitComplete:e,custom:n,presenceAffectsLayout:d,mode:f},o),b.set(t,i)}w.splice(r,0,i)}),w=w.map(e=>{const t=e.key;return b.has(t)?e:s.createElement(u,{key:m(e),isPresent:!0,presenceAffectsLayout:d,mode:f},e)}),s.createElement(s.Fragment,null,b.size?w:w.map(e=>(0,s.cloneElement)(e)))};var g=n(12),y=n(614),w=n(5746);const b=(0,n(1639).A)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);var v=n(8817),E=n(9688),k=n(579);const j=()=>{const[e,t]=(0,s.useState)(!1),[n,o]=(0,s.useState)(""),[r,i]=(0,s.useState)("idle"),[a,c]=(0,s.useState)([{role:"assistant",content:"Hi! I'm ".concat(v.x.name,"'s AI assistant. Ask me about skills, projects, or goals.")}]),l=(0,s.useRef)(null);(0,s.useEffect)(()=>{var e;null===(e=l.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[a]);const d=(0,s.useMemo)(()=>"You are a helpful AI assistant for ".concat(v.x.name,"'s portfolio.\nFocus on: AI/ML, Embedded Systems, Web, projects (Rescue Radar, Crime Detection, Crop Disease Detection, AlgoViz, Diet Planner), education at RVCE, location Bangalore, goals (R&D, DRDO/ISRO/Bosch/NVIDIA, national contribution). Be concise and friendly."),[]),u=async()=>{if(!n.trim()||"loading"===r)return;const e={role:"user",content:n.trim()};c(t=>[...t,e]),o(""),i("loading");try{const t=await(0,E.B)("/api/ai-chat",{systemPrompt:d,messages:[...a,e]});if(null===t||void 0===t||!t.content)throw new Error("Empty response");c(e=>[...e,{role:"assistant",content:t.content}])}catch(t){c(e=>[...e,{role:"assistant",content:"\u26a0\ufe0f Oops! Something went wrong. Please try again."}])}finally{i("idle")}};return(0,k.jsxs)("div",{className:"fixed bottom-6 right-6 z-[60]",children:[(0,k.jsx)(x,{children:e&&(0,k.jsxs)(g.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"w-[90vw] max-w-sm glass-card border border-white/10 shadow-xl rounded-xl overflow-hidden flex flex-col",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between p-3 border-b border-white/10 bg-dark-900",children:[(0,k.jsx)("div",{className:"text-sm font-semibold text-white",children:"Chat with Girish\u2019s AI"}),(0,k.jsx)("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-white",children:(0,k.jsx)(y.A,{size:18})})]}),(0,k.jsxs)("div",{className:"flex-1 max-h-80 overflow-y-auto p-3 space-y-3",children:[a.map((e,t)=>(0,k.jsx)("div",{className:"px-3 py-2 rounded-lg max-w-[80%] text-sm ".concat("assistant"===e.role?"bg-gray-800 text-gray-100 self-start":"bg-gradient-to-r from-neon-blue to-neon-purple text-white self-end ml-auto"),children:e.content},t)),"loading"===r&&(0,k.jsx)("div",{className:"text-sm text-gray-400",children:"\ud83e\udd16 Thinking\u2026"}),(0,k.jsx)("div",{ref:l})]}),(0,k.jsxs)("div",{className:"p-3 border-t border-white/10 flex items-center gap-2 bg-dark-900",children:[(0,k.jsx)("input",{value:n,onChange:e=>o(e.target.value),onKeyDown:e=>"Enter"===e.key&&u(),placeholder:"Ask about skills, projects, goals\u2026",className:"flex-1 bg-dark-800/50 border border-white/10 rounded-md px-3 py-2 text-white text-sm focus:outline-none focus:border-neon-blue/50"}),(0,k.jsx)("button",{onClick:u,disabled:"loading"===r,className:"px-3 py-2 rounded-md bg-gradient-to-r from-neon-blue to-neon-purple text-white hover:opacity-90 disabled:opacity-50",children:(0,k.jsx)(w.A,{size:16})})]})]})}),(0,k.jsx)(g.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(e=>!e),className:"mt-3 w-12 h-12 rounded-full bg-gradient-to-r from-neon-blue to-neon-purple text-white flex items-center justify-center shadow-lg hover:shadow-neon-blue/25",children:(0,k.jsx)(b,{size:20})})]})}},9688:(e,t,n)=>{n.d(t,{B:()=>o});const s="http://localhost:5000";async function o(e,t){const n=await fetch("".concat(s).concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),o=await n.json().catch(()=>({}));if(!n.ok)throw new Error(o&&(o.error||o.message)||"Request failed");return o}}}]);
//# sourceMappingURL=666.bdbe45d5.chunk.js.map